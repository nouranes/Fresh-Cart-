<section class="w-full min-h-screen flex flex-col md:flex-row items-center justify-center">


    <div class="w-full md:w-1/2 flex justify-center items-center">
        <img src="/images/reglogin.png" class="w-full h-auto object-contain" alt="register photo">
    </div>


    <div class="w-full md:w-1/2 flex justify-center items-center">
        <form class="w-full px-10" [formGroup]="registerForm " (ngSubmit)="submitForm()">

            <div class="mb-5">
                @let nameControl=registerForm.get("name");
                <label for="name" class="block mb-2 text-sm font-medium text-gray-900">Name</label>
                <input formControlName="name" type="text" id="name" placeholder="Nouran"
                    class="shadow-xs bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5"
                    required />
                @if(nameControl?.errors&&nameControl?.touched){
                <div class="flex   text-sm font-medium text-red-500 rounded-lg  dark:bg-gray-800 dark:text-red-400"
                    role="alert">


                    <div>

                        <ul class="mt-1.5  list-inside list-none">
                            @if(nameControl?.getError('required')){
                            <li>Please enter your name.</li>
                            }
                            @if(nameControl?.getError('minlength')){
                            <li>Your name must be at least 3 characters.</li>
                            }
                            @if(nameControl?.getError('maxlength')){
                            <li>Your name must be up to 10 characters only.</li>
                            }

                        </ul>
                    </div>
                </div>
                }
            </div>

            <div class="mb-5">
                @let emailControl=registerForm.get("email");
                <label for="email" class="block mb-2 text-sm font-medium text-gray-900">Email</label>
                <input formControlName="email" type="email" id="email" placeholder="name@example.com"
                    class="shadow-xs bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5"
                    required />
                @if(emailControl?.errors&&emailControl?.touched){
                <div class="flex   text-sm font-medium text-red-500 rounded-lg  dark:bg-gray-800 dark:text-red-400"
                    role="alert">


                    <div>

                        <ul class="mt-1.5  list-inside list-none">
                            @if(emailControl?.getError('required')){
                            <li>Please enter your email.</li>
                            }
                            @if(emailControl?.getError('email')){
                            <li>Invalid E-mail.</li>
                            }

                        </ul>
                    </div>
                </div>
                }
            </div>

            <div class="mb-5">
                @let passwordControl=registerForm.get("password");
                <label for="password" class="block mb-2 text-sm font-medium text-gray-900">Password</label>
                <input formControlName="password" type="password" id="password"
                    class="shadow-xs bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5"
                    required />
                @if(passwordControl?.errors&&passwordControl?.touched){
                <div class="flex   text-sm font-medium text-red-500 rounded-lg  dark:bg-gray-800 dark:text-red-400"
                    role="alert">


                    <div>

                        <ul class="mt-1.5  list-inside list-none">
                            @if(passwordControl?.getError('required')){
                            <li>Please enter your password.</li>
                            }
                            @if(passwordControl?.getError('pattern')){
                            <li>Your password must start with a capital letter and be at least 7 characters.</li>
                            }





                        </ul>
                    </div>
                </div>
                }
            </div>

            <div class="mb-5">
                <label for="repassword" class="block mb-2 text-sm font-medium text-gray-900">rePassword</label>
                <input formControlName="rePassword" type="password" id="repassword"
                    class="shadow-xs bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5"
                    required />
                @if(registerForm.getError('mismatch')&& registerForm.get('rePassword')?.touched){
                <div class="flex   text-sm font-medium text-red-500 rounded-lg  dark:bg-gray-800 dark:text-red-400"
                    role="alert">


                    <div>

                        <ul class="mt-1.5  list-inside list-none">

                            @if (registerForm.getError('mismatch')) {
                            <li>password and repassword doesn't match</li>
                            }

                        </ul>
                    </div>
                </div>
                }
            </div>

            <div class="mb-5">
                @let phoneControl=registerForm.get("phone");
                <label for="phone" class="block mb-2 text-sm font-medium text-gray-900">Phone</label>
                <input formControlName="phone" type="tel" id="phone"
                    class="shadow-xs bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5"
                    required />
                @if(phoneControl?.errors&&phoneControl?.touched){
                <div class="flex   text-sm font-medium text-red-500 rounded-lg  dark:bg-gray-800 dark:text-red-400"
                    role="alert">


                    <div>

                        <ul class="mt-1.5  list-inside list-none">
                            @if(phoneControl?.getError('required')){
                            <li>Please enter your phone.</li>
                            }
                            @if(phoneControl?.getError('pattern')){
                            <li>Please enter a valid Egyptian phone number.</li>
                            }





                        </ul>
                    </div>
                </div>
                }
            </div>

            <button type="submit" [disabled]="registerForm.invalid" [disabled]="isLoading"
                [class.bg-green-200]="registerForm.invalid" [class.cursor-default]="registerForm.invalid"
                [class.bg-main-color]="!registerForm.invalid" [class.hover\:bg-green-500]="!registerForm.invalid"
                class="block ms-auto text-white focus:ring-4 focus:outline-none  font-medium rounded-lg text-sm px-5 py-2.5 justify-content-end ">
                Register
                @if (isLoading) {
                <i class="fa-solid fa-spinner fa-spin"></i>
                }

            </button>
            @if(errMsg){
            <p class="p-3 text-sm font-medium text-center mx-auto mb-4  text-red-500 rounded-lg  " role="alert">
                {{errMsg}}
            </p>
        }
            @if (successMsg) {
            <p class="p-3 text-lg font-medium text-center mx-auto mb-4 main-color rounded-lg" role="alert">
                {{ successMsg }}
            </p>
            }
            




        </form>
    </div>

</section>